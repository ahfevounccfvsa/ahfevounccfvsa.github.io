---
title: gradleæ„å»ºappium-uiautomator2-serverå‡ºç°gradleç‰ˆæœ¬ä¸åŒ¹é…
tags: [appium, uiautomator2, appium-uiautomator2-server]
---

åœ¨å…‹éš†ä»£ç ï¼š[appium-uiautomator2-server](https://github.com/appium/appium-uiautomator2-server)åï¼ŒæŒ‰ç…§è¯´æ˜æ–‡æ¡£README.mdä¸­æ‰€è¯´ï¼Œè¿›è¡Œæ„å»º

```shell
gradle clean assembleE2ETestDebug assembleE2ETestDebugAndroidTest
```

å‡ºç°é”™è¯¯ï¼š

```shell
FAILURE: Build failed with an exception.

* Where:
Build file '/Users/cmlanche/sourcetree/appium/appium-uiautomator2-server/app/build.gradle' line: 14

* What went wrong:
A problem occurred evaluating project ':app'.
> Failed to apply plugin [id 'com.android.application']
   > Minimum supported Gradle version is 4.10.1. Current version is 4.1. If using the gradle wrapper, try editing the distributionUrl in /Users/cmlanche/sourcetree/appium/appium-uiautomator2-server/gradle/wrapper/gradle-wrapper.properties to gradle-4.10.1-all.zip

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

* Get more help at https://help.gradle.org

BUILD FAILED in 1s
```

é”™è¯¯ä¸­è¯´ï¼Œå½“å‰å·¥ç¨‹æœ€ä½è¦æ±‚çš„gradleç‰ˆæœ¬æ˜¯4.10.1ï¼Œè€Œå½“å‰çš„ç‰ˆæœ¬æ˜¯4.1ã€‚

å½“æ—¶æˆ‘å¹¶ä¸çŸ¥é“ï¼Œæˆ–è€…è¯´å·²ç»å¿˜è®°gradleæ˜¯æ€ä¹ˆå®‰è£…çš„ï¼Œç´¢æ€§åšäº†ä¸¤ä»¶äº‹ï¼š

1. ä½¿ç”¨`gradle -v`æŸ¥è¯¢å½“å‰çš„ç‰ˆæœ¬å·ï¼Œç¡®å®æ˜¾ç¤ºçš„æ˜¯4.1
2. ä½¿ç”¨brew upgrade gradleå‡çº§æˆ‘çš„gradleï¼Œæœä¸å…¶ç„¶ï¼Œæˆ‘çš„gradleç¡®å®æ˜¯ç”¨brewæ¥ç®¡ç†çš„(å„ä¸ªç³»ç»Ÿä¸ä¸€æ ·å“ˆï¼Œæˆ‘çš„æ˜¯macï¼Œä¸ä»…ä»…æ˜¯å¯èƒ½æ“ä½œç³»ç»Ÿçš„å·®å¼‚ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä½¿ç”¨gradleä¹Ÿæœ‰å·®å¼‚ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç”¨æœ¬åœ°gradleæ¥ç¼–è¯‘)

```shell
chengmingdeMacBook-Pro:appium-uiautomator2-server cmlanche$ brew upgrade gradle
Updating Homebrew...
==> Auto-updated Homebrew!
Updated 2 taps (dart-lang/dart and homebrew/core).
==> New Formulae
aliyun-cli         breezy             embree             frpc               frps               lazygit            ospray             volt               zabbix-cli
==> Updated Formulae
go âœ”                               direnv                             grafana                            mariadb                            simple-scan
hugo âœ”                             dita-ot                            gromacs                            maxwell                            smimesign
swagger-codegen âœ”                  django-completion                  groonga                            mesa                               snapcraft
wget âœ”                             dnscrypt-proxy                     gsoap                              meson                              snort
ace                                docfx                              gssdp                              metabase                           sourcekitten
algernon                           docker                             gtk+3                              micronaut                          sshguard
ansible                            docker-completion                  gupnp                              mmseqs2                            ssllabs-scan
anyenv                             docker-compose-completion          gupnp-av                           mps-youtube                        step
apache-arrow                       docker-credential-helper-ecr       gupnp-tools                        nginx                              streamlink
apache-arrow-glib                  doctl                              hadolint                           nsd                                stunnel
apache-flink                       doitlive                           haproxy                            opam                               svgo
apache-spark                       dynare                             hatari                             open-mpi                           swiftformat
apr                                easyengine                         helmfile                           openjpeg                           syncthing
asciidoctor                        embulk                             ispc                               openttd                            taskell
asdf                               erlang                             istioctl                           pacapt                             tbb
atlassian-cli                      ethereum                           jemalloc                           paket                              telegraf
atomist-cli                        exploitdb                          jenkins                            pandoc                             terraform_landscape
aws-okta                           faas-cli                           jenkins-lts                        pegtl                              tgui
aws-sdk-cpp                        ffmpeg                             jfrog-cli-go                       php                                tippecanoe
awscli                             file-roller                        jmeter                             php-code-sniffer                   tmux
azure-cli                          fn                                 juju                               php@7.1                            topgrade
binaryen                           fonttools                          kafkacat                           php@7.2                            ttfautohint
bitrise                            freetds                            kitchen-sync                       phpunit                            typescript
cake                               futhark                            krakend                            planck                             unbound
carthage                           fx                                 kube-aws                           pmd                                ungit
certbot                            gdcm                               kubecfg                            postgis                            v8
cfssl                              get_iplayer                        ledger                             pre-commit                         vala
cgal                               gitbucket                          libcroco                           prometheus                         vert.x
checkstyle                         gitlab-runner                      libdazzle                          prototool                          vim
citus                              gjs                                libnotify                          pulumi                             vte3
cmark                              glib-networking                    libphonenumber                     putty                              wine
collector-sidecar                  gmic                               librealsense                       pyenv                              wireguard-go
composer                           gmsh                               libsoup                            rakudo-star                        wireguard-tools
conan                              gnu-getopt                         libvirt                            riff                               xmake
confluent-oss                      gnumeric                           libxlsxwriter                      rke                                yle-dl
conjure-up                         gnunet                             links                              rtv                                youtube-dl
cpprestsdk                         gnutls                             lmod                               ruby-build                         zabbix
crowdin                            gobject-introspection              logtalk                            ruby@2.4                           zig
cryfs                              gocr                               lolcat                             sbcl                               zim
dcos-cli                           godep                              lumo                               sdl
dhall                              gomplate                           lxc                                serverless
dhall-json                         goreleaser                         mackup                             ship
==> Deleted Formulae
pdftoedn                                                                                ruby@2.3

==> Upgrading 1 outdated package:
gradle 4.1 -> 5.3.1
==> Upgrading gradle 
==> Downloading https://services.gradle.org/distributions/gradle-5.3.1-all.zip
==> Downloading from https://downloads.gradle.org/distributions/gradle-5.3.1-all.zip
######################################################################## 100.0%
ğŸº  /usr/local/Cellar/gradle/5.3.1: 13,686 files, 236.8MB, built in 1 minute
Removing: /usr/local/Cellar/gradle/4.1... (169 files, 71.7MB)
```

å‡çº§å®Œåï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨`gradle`å‘½ä»¤æ¥æ‰“åŒ…äº†:

```shell
chengmingdeMacBook-Pro:appium-uiautomator2-server cmlanche$ gradle clean

Welcome to Gradle 5.3.1!

Here are the highlights of this release:
 - Feature variants AKA "optional dependencies"
 - Type-safe accessors in Kotlin precompiled script plugins
 - Gradle Module Metadata 1.0

For more details see https://docs.gradle.org/5.3.1/release-notes.html

Starting a Gradle Daemon (subsequent builds will be faster)

> Configure project :app
NDK is missing a "platforms" directory.
If you are using NDK, verify the ndk.dir is set to a valid NDK directory.  It is currently set to /Users/cmlanche/Library/Android/sdk/ndk-bundle.
If you are not using NDK, unset the NDK variable from ANDROID_NDK_HOME or local.properties to remove this warning.

WARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation' and 'api'.
It will be removed at the end of 2018. For more information see: http://d.android.com/r/tools/update-dependency-configurations.html

Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/5.3.1/userguide/command_line_interface.html#sec:command_line_warnings

BUILD SUCCESSFUL in 1m 3s
2 actionable tasks: 2 executed
```

å…¶å®ï¼Œå¹¶ä¸æ˜¯gradleè¿™ä¸ªç‰ˆæœ¬ä¸èƒ½ç”¨ï¼Œè€Œæ˜¯å¯¹`appium-uiautomator2-server`è¿™ä¸ªå·¥ç¨‹ä¸èƒ½æ‹¿ç”¨ï¼Œå› ä¸ºgradleç‰ˆæœ¬å’Œè°·æ­Œçš„`com.android.tools.build:gradle`æ’ä»¶æ˜¯æœ‰ä¸ªå¯¹åº”å…³ç³»çš„ï¼Œè¿™ä¸ªserverå·¥ç¨‹ä¸­ä½¿ç”¨çš„æ˜¯3.3.2,å…¶æœ€å°çš„gradleå°±æ˜¯4.10.1ï¼Œå¯¹åº”å…³ç³»é“¾æ¥: [https://developer.android.google.cn/studio/releases/gradle-plugin.html#updating-gradle](<https://developer.android.google.cn/studio/releases/gradle-plugin.html#updating-gradle>)

